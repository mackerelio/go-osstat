name: Build

on:
  push:
    branches:
    - master
  pull_request:
jobs:
  lint:
    uses: mackerelio/workflows/.github/workflows/go-lint.yml@main
  test:
    uses: mackerelio/workflows/.github/workflows/go-test.yml@main
  testrun:
    uses: mackerelio/workflows/.github/workflows/setup-go-matrix.yml@main
    with:
      run: go run ./cmd/osstat
